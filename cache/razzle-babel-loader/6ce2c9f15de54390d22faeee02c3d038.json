{"ast":null,"code":"import { abi } from \"../lib/abi/ierc20\";\nimport Web3 from \"web3\";\nconst rpcURL = `https://kovan.infura.io/v3/${process.env.RAZZLE_INFURA_PROJECT_ID}`;\nconst web3 = new Web3(rpcURL);\nexport const removeDuplicateObjectFromArray = (arr, key) => {\n  const check = {};\n  const filteredArr = [];\n  arr.forEach(obj => {\n    if (!check[obj[key]]) {\n      check[obj[key]] = true;\n      filteredArr.push(obj);\n    }\n  });\n  return filteredArr;\n};\nexport const getErc20Balance = async (tokenAddress, walletAddress) => {\n  const contract = new web3.eth.Contract(abi, \"0xb597cd8d3217ea6477232f9217fa70837ff667af\");\n  console.log(tokenAddress);\n  console.log(contract); // const balance = await contract.methods.balanceOf(walletAddress).call();\n\n  const balance = await contract.methods.totalSupply().call();\n  return balance;\n};","map":{"version":3,"sources":["/home/liam/Documents/Code/paladin/test/src/lib/utils.ts"],"names":["abi","Web3","rpcURL","process","env","RAZZLE_INFURA_PROJECT_ID","web3","removeDuplicateObjectFromArray","arr","key","check","filteredArr","forEach","obj","push","getErc20Balance","tokenAddress","walletAddress","contract","eth","Contract","console","log","balance","methods","totalSupply","call"],"mappings":"AAAA,SAASA,GAAT,QAAoB,mBAApB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,MAAMC,MAAM,GAAI,8BAA6BC,OAAO,CAACC,GAAR,CAAYC,wBAAyB,EAAlF;AACA,MAAMC,IAAI,GAAG,IAAIL,IAAJ,CAASC,MAAT,CAAb;AAEA,OAAO,MAAMK,8BAA8B,GAAG,CAACC,GAAD,EAAgBC,GAAhB,KAAgC;AAC5E,QAAMC,KAAK,GAAG,EAAd;AAEA,QAAMC,WAAW,GAAG,EAApB;AAEAH,EAAAA,GAAG,CAACI,OAAJ,CAAaC,GAAD,IAAS;AACnB,QAAI,CAACH,KAAK,CAACG,GAAG,CAACJ,GAAD,CAAJ,CAAV,EAAsB;AACpBC,MAAAA,KAAK,CAACG,GAAG,CAACJ,GAAD,CAAJ,CAAL,GAAkB,IAAlB;AAEAE,MAAAA,WAAW,CAACG,IAAZ,CAAiBD,GAAjB;AACD;AACF,GAND;AAQA,SAAOF,WAAP;AACD,CAdM;AAgBP,OAAO,MAAMI,eAAe,GAAG,OAC7BC,YAD6B,EAE7BC,aAF6B,KAG1B;AACH,QAAMC,QAAQ,GAAG,IAAIZ,IAAI,CAACa,GAAL,CAASC,QAAb,CACfpB,GADe,EAEf,4CAFe,CAAjB;AAKAqB,EAAAA,OAAO,CAACC,GAAR,CAAYN,YAAZ;AACAK,EAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ,EAPG,CASH;;AACA,QAAMK,OAAO,GAAG,MAAML,QAAQ,CAACM,OAAT,CAAiBC,WAAjB,GAA+BC,IAA/B,EAAtB;AAEA,SAAOH,OAAP;AACD,CAhBM","sourcesContent":["import { abi } from \"../lib/abi/ierc20\";\nimport Web3 from \"web3\";\nconst rpcURL = `https://kovan.infura.io/v3/${process.env.RAZZLE_INFURA_PROJECT_ID}`;\nconst web3 = new Web3(rpcURL);\n\nexport const removeDuplicateObjectFromArray = (arr: object[], key: string) => {\n  const check = {};\n\n  const filteredArr = [];\n\n  arr.forEach((obj) => {\n    if (!check[obj[key]]) {\n      check[obj[key]] = true;\n\n      filteredArr.push(obj);\n    }\n  });\n\n  return filteredArr;\n};\n\nexport const getErc20Balance = async (\n  tokenAddress: string,\n  walletAddress: string\n) => {\n  const contract = new web3.eth.Contract(\n    abi,\n    \"0xb597cd8d3217ea6477232f9217fa70837ff667af\"\n  );\n\n  console.log(tokenAddress);\n  console.log(contract);\n\n  // const balance = await contract.methods.balanceOf(walletAddress).call();\n  const balance = await contract.methods.totalSupply().call();\n\n  return balance;\n};\n"]},"metadata":{},"sourceType":"module"}