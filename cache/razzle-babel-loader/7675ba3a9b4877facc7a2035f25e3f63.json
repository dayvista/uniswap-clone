{"ast":null,"code":"import _asyncToGenerator from \"/home/liam/Documents/Code/paladin/test/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _regeneratorRuntime from \"/home/liam/Documents/Code/paladin/test/node_modules/@babel/runtime/regenerator\";\nimport { getBalanceAbi } from \"../lib/abi/ierc20\";\nimport Web3 from \"web3\";\nvar rpcURL = \"https://kovan.infura.io/v3/42\";\nvar web3 = new Web3(rpcURL);\nexport var removeDuplicateObjectFromArray = function removeDuplicateObjectFromArray(arr, key) {\n  var check = {};\n  var filteredArr = [];\n  arr.forEach(function (obj) {\n    if (!check[obj[key]]) {\n      check[obj[key]] = true;\n      filteredArr.push(obj);\n    }\n  });\n  return filteredArr;\n};\nexport var getErc20Balance = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(tokenAddress, walletAddress) {\n    var contract, balance;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            contract = new web3.eth.Contract(getBalanceAbi, tokenAddress);\n            _context.next = 3;\n            return contract.methods.balanceOf(walletAddress).call();\n\n          case 3:\n            balance = _context.sent;\n            return _context.abrupt(\"return\", balance);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function getErc20Balance(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["/home/liam/Documents/Code/paladin/test/src/lib/utils.ts"],"names":["getBalanceAbi","Web3","rpcURL","web3","removeDuplicateObjectFromArray","arr","key","check","filteredArr","forEach","obj","push","getErc20Balance","tokenAddress","walletAddress","contract","eth","Contract","methods","balanceOf","call","balance"],"mappings":";;AAAA,SAASA,aAAT,QAA8B,mBAA9B;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,IAAMC,MAAM,GAAG,+BAAf;AACA,IAAMC,IAAI,GAAG,IAAIF,IAAJ,CAASC,MAAT,CAAb;AAEA,OAAO,IAAME,8BAA8B,GAAG,SAAjCA,8BAAiC,CAACC,GAAD,EAAgBC,GAAhB,EAAgC;AAC5E,MAAMC,KAAK,GAAG,EAAd;AAEA,MAAMC,WAAW,GAAG,EAApB;AAEAH,EAAAA,GAAG,CAACI,OAAJ,CAAY,UAACC,GAAD,EAAS;AACnB,QAAI,CAACH,KAAK,CAACG,GAAG,CAACJ,GAAD,CAAJ,CAAV,EAAsB;AACpBC,MAAAA,KAAK,CAACG,GAAG,CAACJ,GAAD,CAAJ,CAAL,GAAkB,IAAlB;AAEAE,MAAAA,WAAW,CAACG,IAAZ,CAAiBD,GAAjB;AACD;AACF,GAND;AAQA,SAAOF,WAAP;AACD,CAdM;AAgBP,OAAO,IAAMI,eAAe;AAAA,sEAAG,iBAC7BC,YAD6B,EAE7BC,aAF6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAIvBC,YAAAA,QAJuB,GAIZ,IAAIZ,IAAI,CAACa,GAAL,CAASC,QAAb,CAAsBjB,aAAtB,EAAqCa,YAArC,CAJY;AAAA;AAAA,mBAMPE,QAAQ,CAACG,OAAT,CAAiBC,SAAjB,CAA2BL,aAA3B,EAA0CM,IAA1C,EANO;;AAAA;AAMvBC,YAAAA,OANuB;AAAA,6CAQtBA,OARsB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAfT,eAAe;AAAA;AAAA;AAAA,GAArB","sourcesContent":["import { getBalanceAbi } from \"../lib/abi/ierc20\";\nimport Web3 from \"web3\";\nconst rpcURL = \"https://kovan.infura.io/v3/42\";\nconst web3 = new Web3(rpcURL);\n\nexport const removeDuplicateObjectFromArray = (arr: object[], key: string) => {\n  const check = {};\n\n  const filteredArr = [];\n\n  arr.forEach((obj) => {\n    if (!check[obj[key]]) {\n      check[obj[key]] = true;\n\n      filteredArr.push(obj);\n    }\n  });\n\n  return filteredArr;\n};\n\nexport const getErc20Balance = async (\n  tokenAddress: string,\n  walletAddress: string\n) => {\n  const contract = new web3.eth.Contract(getBalanceAbi, tokenAddress);\n\n  const balance = await contract.methods.balanceOf(walletAddress).call();\n\n  return balance;\n};\n"]},"metadata":{},"sourceType":"module"}