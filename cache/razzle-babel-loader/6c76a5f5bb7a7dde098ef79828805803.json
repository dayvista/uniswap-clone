{"ast":null,"code":"import { abi as iErc20Abi } from \"../lib/abi/ierc20\";\nimport { abi as uniswapAbi } from \"../lib/abi/uniswap\";\nimport Web3 from \"web3\";\nconst rpcURL = `https://kovan.infura.io/v3/${process.env.RAZZLE_INFURA_PROJECT_ID}`;\nconst web3 = new Web3(rpcURL);\nexport const removeDuplicateObjectFromArray = (arr, key) => {\n  const check = {};\n  const filteredArr = [];\n  arr.forEach(obj => {\n    if (!check[obj[key]]) {\n      check[obj[key]] = true;\n      filteredArr.push(obj);\n    }\n  });\n  return filteredArr;\n};\nexport const getErc20Balance = async (tokenAddress, walletAddress) => {\n  const contract = new web3.eth.Contract(iErc20Abi, tokenAddress);\n  const balance = await contract.methods.balanceOf(walletAddress).call();\n  return balance;\n};\nexport const getExchangeRate = async (exchangeAmount, fromContractAddress, toContractAddress) => {\n  const contract = new web3.eth.Contract(uniswapAbi);\n  const exchangeRate = await contract.methods.getAmountsOut(exchangeAmount, [fromContractAddress, toContractAddress]).call();\n  return exchangeRate;\n};","map":{"version":3,"sources":["/home/liam/Documents/Code/paladin/test/src/lib/utils.ts"],"names":["abi","iErc20Abi","uniswapAbi","Web3","rpcURL","process","env","RAZZLE_INFURA_PROJECT_ID","web3","removeDuplicateObjectFromArray","arr","key","check","filteredArr","forEach","obj","push","getErc20Balance","tokenAddress","walletAddress","contract","eth","Contract","balance","methods","balanceOf","call","getExchangeRate","exchangeAmount","fromContractAddress","toContractAddress","exchangeRate","getAmountsOut"],"mappings":"AAAA,SAASA,GAAG,IAAIC,SAAhB,QAAiC,mBAAjC;AACA,SAASD,GAAG,IAAIE,UAAhB,QAAkC,oBAAlC;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,MAAMC,MAAM,GAAI,8BAA6BC,OAAO,CAACC,GAAR,CAAYC,wBAAyB,EAAlF;AACA,MAAMC,IAAI,GAAG,IAAIL,IAAJ,CAASC,MAAT,CAAb;AAGA,OAAO,MAAMK,8BAA8B,GAAG,CAC5CC,GAD4C,EAE5CC,GAF4C,KAGpC;AACR,QAAMC,KAAK,GAAG,EAAd;AAEA,QAAMC,WAAW,GAAG,EAApB;AAEAH,EAAAA,GAAG,CAACI,OAAJ,CAAaC,GAAD,IAAS;AACnB,QAAI,CAACH,KAAK,CAACG,GAAG,CAACJ,GAAD,CAAJ,CAAV,EAAsB;AACpBC,MAAAA,KAAK,CAACG,GAAG,CAACJ,GAAD,CAAJ,CAAL,GAAkB,IAAlB;AAEAE,MAAAA,WAAW,CAACG,IAAZ,CAAiBD,GAAjB;AACD;AACF,GAND;AAQA,SAAOF,WAAP;AACD,CAjBM;AAmBP,OAAO,MAAMI,eAAe,GAAG,OAC7BC,YAD6B,EAE7BC,aAF6B,KAG1B;AACH,QAAMC,QAAQ,GAAG,IAAIZ,IAAI,CAACa,GAAL,CAASC,QAAb,CAAsBrB,SAAtB,EAAiCiB,YAAjC,CAAjB;AAEA,QAAMK,OAAO,GAAG,MAAMH,QAAQ,CAACI,OAAT,CAAiBC,SAAjB,CAA2BN,aAA3B,EAA0CO,IAA1C,EAAtB;AAEA,SAAOH,OAAP;AACD,CATM;AAWP,OAAO,MAAMI,eAAe,GAAG,OAC7BC,cAD6B,EAE7BC,mBAF6B,EAG7BC,iBAH6B,KAI1B;AACH,QAAMV,QAAQ,GAAG,IAAIZ,IAAI,CAACa,GAAL,CAASC,QAAb,CAAsBpB,UAAtB,CAAjB;AAEA,QAAM6B,YAAY,GAAG,MAAMX,QAAQ,CAACI,OAAT,CACxBQ,aADwB,CACVJ,cADU,EACM,CAACC,mBAAD,EAAsBC,iBAAtB,CADN,EAExBJ,IAFwB,EAA3B;AAIA,SAAOK,YAAP;AACD,CAZM","sourcesContent":["import { abi as iErc20Abi } from \"../lib/abi/ierc20\";\nimport { abi as uniswapAbi } from \"../lib/abi/uniswap\";\nimport Web3 from \"web3\";\nconst rpcURL = `https://kovan.infura.io/v3/${process.env.RAZZLE_INFURA_PROJECT_ID}`;\nconst web3 = new Web3(rpcURL);\nimport { BigNumber } from \"@ethersproject/bignumber\";\n\nexport const removeDuplicateObjectFromArray = <T>(\n  arr: object[],\n  key: string\n): T[] => {\n  const check = {};\n\n  const filteredArr = [];\n\n  arr.forEach((obj) => {\n    if (!check[obj[key]]) {\n      check[obj[key]] = true;\n\n      filteredArr.push(obj);\n    }\n  });\n\n  return filteredArr;\n};\n\nexport const getErc20Balance = async (\n  tokenAddress: string,\n  walletAddress: string\n) => {\n  const contract = new web3.eth.Contract(iErc20Abi, tokenAddress);\n\n  const balance = await contract.methods.balanceOf(walletAddress).call();\n\n  return balance;\n};\n\nexport const getExchangeRate = async (\n  exchangeAmount: BigNumber,\n  fromContractAddress: string,\n  toContractAddress: string\n) => {\n  const contract = new web3.eth.Contract(uniswapAbi);\n\n  const exchangeRate = await contract.methods\n    .getAmountsOut(exchangeAmount, [fromContractAddress, toContractAddress])\n    .call();\n\n  return exchangeRate;\n};\n"]},"metadata":{},"sourceType":"module"}